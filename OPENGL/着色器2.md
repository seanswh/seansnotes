着色器的输入和输出

虽然着色器是各自独立的小程序，但是它们都是OPENGL绘制过程的某一部分，出于这样的原因，我们希望每个着色器都有输入和输出，这样才能进行数据交流和传递。GLSL定义了in和out关键字专门来设定输入和输出，只要一个输出变量与下一阶段的着色器输入匹配，它就会传递下去。但在顶点和片段着色器中会有点不同。  
顶点着色器输入的是一种特殊的格式，这样可以提升执行效率。这个格式的特殊性在于这个数据是从**顶点数据**中直接获取的。为了定义顶点数据的组织方式，我们需要通过location元信息来通过CPU对顶点属性进行配置。

在之前的例子中看到了，顶点着色器中使用`layout (location = 0)`标识属性，顶点着色器需要layout这个标识，用于将输入链接到CPU传入的顶点数据。

另外，在fragment着色器中，需要一个vec4的颜色输出变量，因为fragment着色器的作用就是要确定输出的颜色。如果没有输出vec4颜色变量，那OPENGL就会把物体渲染成黑色\(或者白色\)。

所以，如果我们打算从一个着色器向另一个着色器发送数据，我们必须在发送方着色器中声明一个输出，在接收方着色器中声明一个一样的输入。当类型和名字都一样的时候，OpenGL就会把两个变量链接到一起，它们之间就能发送数据了（这是在链接程序对象时完成的）。为了展示这是如何工作的，我们会稍微改动一下之前教程里的那个着色器，让顶点着色器为片段着色器决定颜色。

